{% extends "base.html" %} {% load static %} {%block head%}
<link rel="stylesheet" href="{%static 'styles.css'%}" />
<link rel="stylesheet" href="{%static 'ranking.css'%}" />
<title>PIROGRAM CARDGAME</title>
{% endblock %} {% block content %}

<div class="container">
  <header>
    <a href="/"
      ><h1>â™£ï¸ PIROGRAM CARDGAME <span class="diamond">â™¦ï¸</span></h1></a
    >
    <nav>
      <ul>
        <li><a href="{% url 'games:start' %}">ê²Œì„í•˜ê¸°</a></li>
        <li><a href="{% url 'games:game_ranking' %}">ë­í‚¹ë³´ê¸°</a></li>
        <li>
          <a href="{% url 'users:logout' %}" onclick="naverlogout()"
            >{%csrf_token%}ë¡œê·¸ì•„ì›ƒ</a
          >
        </li>
      </ul>
    </nav>
  </header>

  <div class="ranking_content">
    <h1 class="ranking_title">ğŸ‘‘ Piro Hall of Frame ğŸ‘‘</h1>
    {%for user in users%}
    <h5>
      {{ forloop.counter }}ë“± : {{user.username}}ë‹˜! ì´ ì ìˆ˜ : {{user.score}} ì 
    </h5>
    {% endfor %}
  </div>
</div>
<script>
  function naverlogout() {
    accsTK = localStorage.getItem("accsTK");
    fetch(
      `https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=p3ty5OZcY15ufMgrfHPe&client_secret=EfaVjbEQ5T&access_token=${accsTK}&state=9caf3774-d3e0-4977-ab79-04e4e5e0c2b5&state=be6efbf7-bf94-4b29-b36f-663213729980&service_provider=NAVER`,
      {
        mode: "no-cors",
        method: "GET",
      }
    )
      .then(() => {
        console.log("ë¡œê·¸ì•„ì›ƒ ì„±ê³µ");
      })
      .catch((error) => console.log(error));
  }
</script>
{% endblock %}
